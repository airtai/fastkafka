
<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

``` python
import json
import tempfile

from pydantic import Field

from fastkafka._components.logger import supress_timestamps
```

``` python
supress_timestamps()
logger = get_logger(__name__, level=20)
logger.info("ok")
```

    [INFO] __main__: ok

``` python
assert _to_json_utf8({"a": 1, "b": [2, 3]}) == b'{"a": 1, "b": [2, 3]}'


class A(BaseModel):
    name: str = Field()
    age: int


assert _to_json_utf8(A(name="Davor", age=12)) == b'{"name": "Davor", "age": 12}'
```

``` python
class User(BaseModel):
    name: str
    favorite_number: Optional[int] = None
    favorite_color: Optional[str] = None
```

------------------------------------------------------------------------

### json_encoder

>      json_encoder (msg:pydantic.main.BaseModel)

Encoder to encode pydantic instances to json string

Args: msg: An instance of pydantic basemodel

Returns: Json string in bytes which is encoded from pydantic basemodel

``` python
msg = User(name="Kumaran", favorite_number=9, favorite_color="black")


actual = json_encoder(msg)
display(actual)

assert isinstance(actual, bytes)
assert actual == b'{"name": "Kumaran", "favorite_number": 9, "favorite_color": "black"}'
```

    b'{"name": "Kumaran", "favorite_number": 9, "favorite_color": "black"}'

------------------------------------------------------------------------

### json_decoder

>      json_decoder (raw_msg:bytes, cls:pydantic.main.ModelMetaclass)

Decoder to decode json string in bytes to pydantic model instance

Args: raw_msg: Bytes message received from Kafka topic cls: Pydantic
class; This pydantic class will be used to construct instance of same
class

Returns: An instance of given pydantic class

``` python
raw_msg = b'{"name": "123", "favorite_number": 0, "favorite_color": "111"}'


actual = json_decoder(raw_msg, cls=User)
display(actual)

assert isinstance(actual, User)
assert actual.name == "123"
assert actual.favorite_number == 0
assert actual.favorite_color == "111"
```

    User(name='123', favorite_number=0, favorite_color='111')
