
<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

``` python
import os
from time import sleep

from fastkafka._components.logger import supress_timestamps
```

``` python
# allows async calls in notebooks

import nest_asyncio
```

``` python
nest_asyncio.apply()
```

``` python
supress_timestamps()
logger = get_logger(__name__, level=20)
logger.info("ok")
```

    [INFO] __main__: ok

------------------------------------------------------------------------

### terminate_asyncio_process

>      terminate_asyncio_process (p:asyncio.subprocess.Process)

``` python
proc = await asyncio.create_subprocess_exec(
    "watch", "-n", "0.1", "date", stdout=asyncio.subprocess.PIPE
)
sleep(3)
await terminate_asyncio_process(proc)
outputs, _ = await proc.communicate()

print(outputs.decode("utf-8"))
assert proc.returncode == 0
```

    [INFO] __main__: terminate_asyncio_process(): Terminating the process 743...
    [INFO] __main__: terminate_asyncio_process(): Process 743 terminated.
    ?47hEvery 0.1s: datedavor-fastkafka-devel: Tue Feb  7 15:05:41 2023Tue Feb  7 15:05:41 UTC 202322334455

------------------------------------------------------------------------

### run_async_subprocesses

>      run_async_subprocesses (commands:List[str],
>                              commands_args:List[List[Any]],
>                              sleep_between:int=0)

``` python
# async with asyncer.create_task_group() as tg:
#     tg.soonify(run_async_subprocesses)(["watch"]*4, [["-n", "0.1", "date"]]*4, sleep_between=1)
#     await asyncio.sleep(3)
```

``` python
# # | export


# @contextmanager
# def run_in_process(
#     target: Callable[..., Any]
# ) -> Generator[multiprocessing.Process, None, None]:
#     p = multiprocessing.Process(target=target)
#     try:
#         p.start()
#         yield p
#     except Exception as e:
#         print(f"Exception raised {e=}")
#     finally:
#         p.terminate()
#         p.join()
```
