Install Test Dependencies
================

<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

``` python
from fastkafka._components.logger import supress_timestamps
```

``` python
supress_timestamps()
logger = get_logger(__name__, level=20)
logger.info("ok")
```

    [INFO] __main__: ok

------------------------------------------------------------------------

<a
href="https://github.com/airtai/fastkafka/blob/main/fastkafka/_components/test_dependencies.py#L28"
target="_blank" style={{float: 'right', fontSize: 'smaller'}}>source</a>

### check_java

>      check_java (potential_jdk_path:Optional[List[pathlib.Path]]=None)

``` python
assert check_java()
```

    [INFO] __main__: Java is already installed.
    [INFO] __main__: But not exported to PATH, exporting...

``` python
_install_java()
assert shutil.which("java")
_install_java()
assert shutil.which("java")
```

    [INFO] __main__: Java is already installed.
    [INFO] __main__: Java is already installed.

------------------------------------------------------------------------

<a
href="https://github.com/airtai/fastkafka/blob/main/fastkafka/_components/test_dependencies.py#L71"
target="_blank" style={{float: 'right', fontSize: 'smaller'}}>source</a>

### check_kafka

>      check_kafka
>                   (kafka_path:pathlib.Path=Path('/home/tvrtko/.local/kafka_2.1
>                   3-3.3.2'))

``` python
_install_kafka()
assert shutil.which("kafka-server-start.sh")
_install_kafka()
assert shutil.which("kafka-server-start.sh")
```

    [INFO] __main__: Kafka is installed.
    [INFO] __main__: But not exported to PATH, exporting...
    [INFO] __main__: Kafka is installed.

``` python
_install_testing_deps()
assert shutil.which("java")
assert shutil.which("kafka-server-start.sh")
```

    [INFO] __main__: Java is already installed.
    [INFO] __main__: Kafka is installed.

------------------------------------------------------------------------

<a
href="https://github.com/airtai/fastkafka/blob/main/fastkafka/_components/test_dependencies.py#L128"
target="_blank" style={{float: 'right', fontSize: 'smaller'}}>source</a>

### generate_app_src

>      generate_app_src (out_path:Union[pathlib.Path,str])

``` python
with TemporaryDirectory() as d:
    generate_app_src((Path(d) / "main.py"))
    !ls -al {d}
    !cat {d}/main.py | grep @kafka_app
```

    total 28
    drwx------ 2 kumaran kumaran  4096 Mar 21 07:21 .
    drwxrwxrwt 1 root    root    12288 Mar 21 07:21 ..
    -rw-rw-r-- 1 kumaran kumaran  9642 Mar 21 07:21 main.py
        @kafka_app.consumes()  # type: ignore
        @kafka_app.consumes()  # type: ignore
        @kafka_app.produces()  # type: ignore
        @kafka_app.produces()  # type: ignore
        @kafka_app.produces()  # type: ignore
        @kafka_app.produces()  # type: ignore

------------------------------------------------------------------------

<a
href="https://github.com/airtai/fastkafka/blob/main/fastkafka/_components/test_dependencies.py#L148"
target="_blank" style={{float: 'right', fontSize: 'smaller'}}>source</a>

### generate_app_in_tmp

>      generate_app_in_tmp ()

``` python
with generate_app_in_tmp() as actual_import_str:
    display(actual_import_str)
    expected_import_str = "main:kafka_app"
    assert actual_import_str == expected_import_str
```

    'main:kafka_app'
